---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import BlogPost from "../components/BlogPost.astro";

const metadata = {
  title: "The Lucas Machado Blog",
  description: "Lucas Machado's personal blog.",
  image: {
    url: "https://avatars.githubusercontent.com/u/73367620?v=4",
    alt: "A picture of Lucas, a young man with glasses, a beard and a black t-shirt, smiling on a bright day outside",
  },
};

const postCollection = await getCollection("posts");
---

<Layout {...metadata}>
  <div>
    <h1 class="text-3xl font-bold tracking-tight text-slate-200 pb-4">
      Lucas Machado's Blog
    </h1>
    <p class="leading-normal pb-8">
      This is where I will post about my journey learning and building software.
    </p>
    <div>
      <h2 class="text-xl font-medium tracking-tight text-slate-100 pb-2">
        Posts
      </h2>
      <ul>
        {postCollection.map((post) => <BlogPost post={post} />)}
      </ul>
    </div>
  </div>
</Layout>
